<%# ----------- 割振モード ----------- %>

<% if @event.mode == 'share' %>
  <h1>割振</h1>
  <p>金額:<%= @event.gamble.total_amount %>円</p>
  <% @joined_users.each do |joined_user| %>
    <div><%= image_tag joined_user.picture_url, class: 'rounded-circle', size: '50x50' %></div>
    <div><%= joined_user.name %></div>
  <% end %>
  <div>
    <%= link_to 'スタート', mode_event_rooms_path(@event), {method: :post, class: "btn btn-primary #{ 'disabled' if @event.counts > 0 } "} %>
  </div>
  <% if @event.counts > 0 %>
    <% @joined_users.each do |joined_user| %>
      <div><%= image_tag joined_user.picture_url, class: 'rounded-circle', size: '50x50' %><%= @event.gamble.total_amount %></div>
    <% end %>
  <% end %>

<%# ----------- 平等モード ----------- %>

<% elsif @event.mode == 'equal' %>
  <div class="container justify-content-center text-center">
    <div class="row mt-5 mb-3 h2">
      <div class="col-6">
        金額
      </div>
      <div class="col-6">
        <%= @event.gamble.total_amount %>円
      </div>

      <div class="col-6 my-3">
        支払人数
      </div>
      <div class="col-6 my-3">
        <%= @event.gamble.people_number %>人
      </div>
    </div>

    <div class="mb-3">
      <% @joined_users.each do |joined_user| %>
        <div><%= image_tag joined_user.picture_url, class: 'rounded-circle', size: '50x50' %></div>
        <div><%= joined_user.name %></div>
      <% end %>
    </div>
    <div class="mb-3">
      <%= link_to 'スタート', mode_event_rooms_path(@event), {method: :post, class: "btn btn-primary #{ 'disabled' if @event.counts > 0 } "} %>
    </div>
  </div>
  <div class="container justify-content-center text-center">
    <div class="row">
      <% if @event.counts > 0 %>
        <% @selected_users.each do |selected_user| %>
          <div class="col-6">
            <div><%= image_tag selected_user.picture_url, class: 'rounded-circle', size: '50x50' %></div>
            <div><%= selected_user.name %></div>
          </div>
          <div class="col-6 mt-3 h2">
            <div><%= @equal_amount %>円</div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>

<%# ----------- 単位モード ----------- %>

<% elsif @event.mode == 'unit' %>
  <h1>単位</h1>
  <p>金額:<%= @event.gamble.total_amount %>円</p>
  <% @joined_users.each do |joined_user| %>
    <div><%= image_tag joined_user.picture_url, class: 'rounded-circle', size: '50x50' %></div>
    <div><%= joined_user.name %></div>
  <% end %>
  <div>
    <%= link_to 'スタート', mode_event_rooms_path(@event), {method: :post, class: "btn btn-primary #{ 'disabled' if @event.counts > 0 } "} %>
  </div>
  <% if @event.counts > 0 %>
    <% @selected_users.each do |selected_user| %>
      <div><%= image_tag selected_user.picture_url, class: 'rounded-circle', size: '50x50' %></div>
      <div><%= selected_user.name %></div>
    <% end %>
    <% @unit.each do |unit|%>
      <div><%= unit %></div>
    <% end %>
  <% end %>

<%# ----------- モードなし ----------- %>

<% else %>
  <h1>モードなし</h1>
<% end %>
